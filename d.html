<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>grid editor demo</title>
    <link rel="stylesheet" href="/css/jquery-ui.css">
    <link rel="stylesheet" href="/css/dhe.css">
    <script src="/js/jquery-1.10.2.js"></script>
    <script src="/js/jquery-ui.js"></script>
    <script src="/js/dhe.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
        }
    </style>
</head>
<body>
<a href="#" id="add_btn">addWidget</a>
<!--<a href="#" id="remove_btn">removeWidget</a>-->
<a href="#" id="removeall_btn">removeAll</a>
<a href="#" id="tojson_btn">toJson</a>
<a href="#" id="load_btn">Load</a>
<div id="container">
</div>

<div style="display: none" class="c">
    <!--<p>Drag me</p>-->
    <a href="javascript:;" style="position: absolute; left: 40%; top: 40%; color: white">配置</a>
    <a href="javascript:;" style="position: absolute; right: 5%; top: 5%; color: white" class="clz_btn">X</a>
</div>
</body>
<script>
    var dhe = new DhEditor("#container", {grid: 50, w: 800, h: 400});
    dhe.addWidget(".c");
    $("#add_btn").on("click", function () {
        dhe.addWidget(".c", {
            x: Math.round(10 * Math.random()),
            y: Math.round(4 * Math.random()),
            w: 2,
            h: 2
        });
    });

    var json = [];
    for (var i = 0; i < 5; i++) {
        json.push({
            x: Math.round(10 * Math.random()),
            y: Math.round(4 * Math.random()),
            w: 2,
            h: 2
        });
    }
    $("#load_btn").on("click", function () {
        dhe.load(json);
    });
    $("#removeall_btn").on("click", function () {
        dhe.removeAll();
    });
    $("#tojson_btn").on("click", function () {
        alert(JSON.stringify(dhe.toJson()));
    });

</script>
</html>