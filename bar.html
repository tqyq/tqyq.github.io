<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>bar demo</title>
    <link rel="stylesheet" href="/css/one.css" type="text/css" media="screen"/>
    <script type="text/javascript" src="/js/d3.min.js"></script>
</head>
<style>
</style>
<body>
<div class="someclass">
    <h2>Create A Bar Chart With D3 JavaScript</h2>
    <div id="bar-chart">

    </div>
</div>
</body>
<script>
    var chartdata;

    var height = 200,
            width = 720,
            barWidth = 40,
            barOffset = 20;

    d3.json("http://test.datahunter.cn/demo/bar", function (error, json) {
        if (error) return console.warn(error);
        chartdata = json;
        visualizeit();
    });

    function visualizeit() {
        d3.select('#bar-chart').append('svg')
                .attr('width', width)
                .attr('height', height)
                .style('background', '#dff0d8')
                .selectAll('rect')
                .data(chartdata)
                .enter()
                .append('rect')
                .style({
                    'fill': function (data) {
                        return data.color;
                    }, 'stroke': '#d6e9c6', 'stroke-width': '5'
                })
                .attr('width', barWidth)
                .attr('height', function (data) {
                    return data.value * 10;
                })
                .attr('x', function (data, i) {
                    return i * (barWidth + barOffset);
                })
                .attr('y', function (data) {
                    return height - data.value * 10;
                });
    }

</script>
</html>